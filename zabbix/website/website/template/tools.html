{% extends "index.html" %}
{% block title %}tools{% endblock %}
{% block div %}
<form class="form-signin" role="form" onsubmit="return test()">
  <div class="form-group">
    <select id ="sel" class="input-sm" clos="5">
	<option value ="first">输入ip范围,例如: 10.0.128.100-131</option>
	<option value ="second" selected>输入文本信息</option>
    </select>
  </div>
  <div class="form-group">
    <textarea id="txt" class="input-lg " clos="5" rows="10"></textarea>
  </div>
  <button type="submit" class="btn btn-default">提交</button>
<!--
 <input type="button" onclick="test()"/>
-->
</form>
<script>
  function test(){
	  var data=document.getElementById("txt").value
	  var m = document.getElementById("sel").value
	  if(m == "second"){
		  var re,r 
		  re = /10\.\d{1,3}\.\d{1,3}\.\d{1,3}/g
		  r = data.match(re)
		  if (r == "null"){
		        alert("idfap")
		      }
		  else{
			r=r.join('\n')
			document.getElementById("txt").value = r
			return false
		      }   
	  }
 	  else{
		  temp=data.split("-")[0]
		  max=data.split("-")[1]
		  min=temp.split(".")[3]
		  base=temp.split(".")[0]+"."+temp.split(".")[1]+"."+temp.split(".")[2]+"."
		  var result=''
		  for (var i=min;i<=max;i++){
			ip=base+i
			result=result+ip+"\n"
		  }
		  document.getElementById("txt").value = result
		  return false
	  }
  }
</script>
{% endblock %}
